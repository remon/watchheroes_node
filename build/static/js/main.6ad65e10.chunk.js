(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,a,t){e.exports=t(52)},52:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),c=t.n(o),l=t(7),i=t(8),s=t(10),m=t(9),u=t(11),h=t(6),d=t(12),g=t.n(d),f=t(53),E=function(e){var a=e.hero,t="/"+a.id;return r.a.createElement("div",{className:"hero-card-item col-md-3 col-sm-4 col-xs-6"},r.a.createElement(f.a,{to:"".concat(t)},r.a.createElement("div",{className:"hero-inner"},r.a.createElement("img",{src:a.image,className:"hero-pt",alt:a.name}),r.a.createElement("div",{className:"hero-name"}," ",a.name))))},p=function(){return r.a.createElement("div",{className:"progress",key:0,style:{width:"100%"}},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}}))},b=function(e){return r.a.createElement("div",{className:"container  prog_container"},r.a.createElement("img",{src:"/build/loading_ball.gif"}),r.a.createElement("div",null,r.a.createElement("h3",null,e.text)))},v=function(e){return r.a.createElement("div",{className:" alert  scroll-alert ".concat(e.className),onClick:function(){e.onClick&&e.onClick()}},e.text)},y=function(e){return r.a.createElement("div",{className:"container search-form"},r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Search for Hero",onChange:e.onChange})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"submit",className:" btn-search btn btn-primary",value:"Search"}))))},N=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).loadMoreData=function(){var e=t.state,a=e.heroes,n=e.currentPage,r=e.query,o=t.state.noSearchQuery;t.setState({isLoading:!0,formFinishLoading:!0},function(){var e;e=r?"/api/v1/heroes?page="+n+"&q="+r:"/api/v1/heroes?page="+n,g.a.get(e).then(function(e){var n=e.data,c=a.concat(n.heroes);console.log(n),o=r&&n.heroes.length<1,console.log(e.data),t.setState({isLoading:!1,searchedQuery:r,noSearchQuery:o,heroes:c,hasMoreHeroes:n.totalPages>n.currentPage,currentPage:n.currentPage+1})}).catch(function(e){t.setState({errorLoading:e.message,isLoading:!1})})})},t.componentWillMount=function(){t.loadMoreData()},t.handleSubmit=function(e){e.preventDefault(),t.setState({heroes:[],currentPage:1,isLoading:!1,errorLoading:!1,hasMoreHeroes:!0},function(){t.loadMoreData()})},t.handleChange=function(e){t.setState({query:e.target.value})},t.state={heroes:[],currentPage:1,isLoading:!1,errorLoading:!1,hasMoreHeroes:!0,noSearchQuery:!1,formFinishLoading:!1,query:null,searchedQuery:null},t.loadMoreData=t.loadMoreData.bind(Object(h.a)(Object(h.a)(t))),t.handleChange=t.handleChange.bind(Object(h.a)(Object(h.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(Object(h.a)(t))),window.onscroll=function(){var e=t.state,a=e.errorLoading,n=e.isLoading;!e.hasMoreHeroes||a||n||window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&t.loadMoreData()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.hasMoreHeroes,t=e.errorLoading,n=e.isLoading,o=e.noSearchQuery,c=e.searchedQuery,l=e.formFinishLoading,i=this.state.heroes.map(function(e,a){return r.a.createElement(E,{hero:e,key:a})}),s=i.length<1,m=n&&!s&&!o,u=s&&!t&&!o,h=a&&!n&&!t&&!o,d=!a&&!o;return r.a.createElement("div",{className:"heros-container row"},l&&r.a.createElement(y,{onChange:this.handleChange,onSubmit:this.handleSubmit}),i,m&&r.a.createElement(p,null),u&&r.a.createElement(b,{text:"Loading Heroes List"}),h&&r.a.createElement(v,{className:"alert-success",text:"Scroll down to load more heroes"}),d&&r.a.createElement(v,{className:"alert-info",text:"No More Heroes"}),t&&!o&&r.a.createElement(v,{className:"alert-danger",onClick:this.loadMoreData,text:" Error Loading Heroes List , click here to try again"}),o&&r.a.createElement(v,{className:"alert-danger",text:"No search Results for ".concat(c)}))}}]),a}(r.a.Component),L=function(e){function a(){return Object(l.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container heroes-container"},r.a.createElement(N,null))}}]),a}(r.a.Component),O=function(e){var a=e.hero;return r.a.createElement("div",{className:"hero-main container"},r.a.createElement("img",{src:a.image}),r.a.createElement("div",null,r.a.createElement("h2",null,a.name)))},j=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={hero:null},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;g.a.get("/api/v1/heroes/"+a).then(function(a){e.setState({hero:a.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.hero;return e?r.a.createElement("div",{className:"hero-profile"},r.a.createElement(O,{hero:e})):r.a.createElement(b,{text:"Loading Profile Information"})}}]),a}(r.a.Component),S=t(54),M=t(55),w=function(){return r.a.createElement(S.a,null,r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(f.a,{to:"/"},"Home")),r.a.createElement(M.a,{path:"/:id",component:j}),r.a.createElement(M.a,{path:"/",exact:!0,component:L})))};document.addEventListener("DOMContentLoaded",function(){c.a.render(r.a.createElement(w,null),document.getElementById("root"))})}},[[24,2,1]]]);
//# sourceMappingURL=main.6ad65e10.chunk.js.map