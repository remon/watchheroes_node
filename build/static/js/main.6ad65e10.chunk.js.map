{"version":3,"sources":["components/Herocard.js","components/ProgressBar.js","components/LoadingGif.js","components/AlertBar.js","components/SearchForm.js","components/HeroesContainer.js","components/Home.js","components/HeroProfile.js","components/HeroItem.js","index.js"],"names":["Herocard","props","Hero","hero","heroLink","id","react_default","a","createElement","className","Link","to","concat","src","image","alt","name","ProgressBar","key","style","width","role","aria-valuenow","aria-valuemin","aria-valuemax","LoadingGif","text","AlertBar","onClick","SearchForm","onSubmit","type","placeholder","onChange","value","HeroesContainer","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadMoreData","_this$state","state","heroes","currentPage","query","noSearchQuery","setState","isLoading","formFinishLoading","url","axios","get","then","response","responseData","data","newHeros","console","log","length","searchedQuery","hasMoreHeroes","totalPages","catch","error","errorLoading","message","componentWillMount","handleSubmit","e","preventDefault","handleChange","target","bind","assertThisInitialized","window","onscroll","_this$state2","innerHeight","document","documentElement","scrollTop","offsetHeight","_this$state3","map","index","components_Herocard","emptyHeroesList","canLoadProgressBar","canLoadMainGif","canLoadScrollAlert","canLoadNoMoreHeroes","components_SearchForm","components_ProgressBar","components_LoadingGif","components_AlertBar","React","Component","Home","components_HeroesContainer","HeroProfile","HeroItem","that","heroId","match","params","components_HeroProfile","App","BrowserRouter","Route","path","component","exact","addEventListener","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.6ad65e10.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nconst Herocard = props => {\n  const Hero = props.hero;\n\n  const heroLink = \"/\" + Hero.id;\n  return (\n    <div className=\"hero-card-item col-md-3 col-sm-4 col-xs-6\">\n      <Link to={`${heroLink}`}>\n        <div className=\"hero-inner\">\n          <img src={Hero.image} className=\"hero-pt\" alt={Hero.name} />\n\n          <div className=\"hero-name\"> {Hero.name}</div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default Herocard;\n","import React from \"react\";\n\nconst ProgressBar = () => {\n  return (\n    <div className=\"progress\" key={0} style={{ width: \"100%\" }}>\n      <div\n        className=\"progress-bar progress-bar-striped progress-bar-animated\"\n        role=\"progressbar\"\n        aria-valuenow=\"75\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        style={{ width: \"100%\" }}\n      />\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import React from \"react\";\n\nconst LoadingGif = props => {\n  return (\n    <div className=\"container  prog_container\">\n      <img src=\"/build/loading_ball.gif\" />\n      <div>\n        <h3>{props.text}</h3>\n      </div>\n    </div>\n  );\n};\n\nexport default LoadingGif;\n","import React from \"react\";\n\nconst AlertBar = props => {\n  return (\n    <div\n      className={` alert  scroll-alert ${props.className}`}\n      onClick={() => {\n        if (props.onClick) {\n          props.onClick();\n        }\n      }}\n    >\n      {props.text}\n    </div>\n  );\n};\n\nexport default AlertBar;\n","import React from \"react\";\n\nconst SearchForm = props => {\n  \n  return (\n    <div className=\"container search-form\">\n      <form onSubmit={props.onSubmit}>\n        <fieldset className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg\"\n            placeholder=\"Search for Hero\"\n            onChange={props.onChange}\n          />\n        </fieldset>\n        <fieldset className=\"form-group\">\n          <input\n            type=\"submit\"\n            className=\" btn-search btn btn-primary\"\n            value=\"Search\"\n          />\n        </fieldset>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchForm;\n","import React from \"react\";\nimport axios from \"axios\";\nimport Herocard from \"../components/Herocard\";\nimport ProgressBar from \"../components/ProgressBar\";\nimport LoadingGif from \"../components/LoadingGif\";\nimport AlertBar from \"../components/AlertBar\";\nimport SearchForm from \"../components/SearchForm\";\n\nclass HeroesContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    /* \n    setting initial state \n    heres = list of heroes \n    currentPage = the page number we use for pagination \n    isloading = determine if we are loading more data from server or not \n    error loading =  state variable when error happens while fetching data from server \n    hasMoreheroes = indicates if we have more heroes for pagination or not\n    noSearchQuery = variable to indicate if we have a search qeury or not \n    formFinishLoading = used for filter name form \n    query = the search query variable \n    searchedQuery = for the search query we store it as a seprate variable \n    */\n\n    this.state = {\n      heroes: [],\n      currentPage: 1,\n      isLoading: false,\n      errorLoading: false,\n      hasMoreHeroes: true,\n      noSearchQuery: false,\n      formFinishLoading: false,\n      query: null,\n      searchedQuery: null\n    };\n\n    /* binding methods */\n\n    this.loadMoreData = this.loadMoreData.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    /* window on scroll method , better than using a separte component */\n\n    window.onscroll = () => {\n      const { errorLoading, isLoading, hasMoreHeroes } = this.state;\n\n      /* \n      if we don't have more heroes or there is an error while loading or currently loading data \n      no need to trigger onscroll event \n      */\n\n      if (!hasMoreHeroes || errorLoading || isLoading) return;\n\n      if (\n        window.innerHeight + document.documentElement.scrollTop ===\n        document.documentElement.offsetHeight\n      ) {\n        this.loadMoreData();\n      }\n    };\n  }\n\n  loadMoreData = () => {\n    const { heroes, currentPage, query } = this.state;\n    let noSearchQuery = this.state.noSearchQuery;\n\n    this.setState({ isLoading: true, formFinishLoading: true }, () => {\n      let url;\n      if (query) {\n        url = \"/api/v1/heroes?page=\" + currentPage + \"&q=\" + query;\n      } else {\n        url = \"/api/v1/heroes?page=\" + currentPage;\n      }\n      axios\n        .get(url)\n        .then(response => {\n          const responseData = response.data,\n            //append new heroes to the original state heroes //\n\n            newHeros = heroes.concat(responseData.heroes);\n          console.log(responseData);\n          noSearchQuery = query && responseData.heroes.length < 1;\n          console.log(response.data);\n          this.setState({\n            isLoading: false,\n            searchedQuery: query,\n            noSearchQuery: noSearchQuery,\n            heroes: newHeros,\n            hasMoreHeroes: responseData.totalPages > responseData.currentPage,\n            currentPage: responseData.currentPage + 1\n          });\n        })\n        .catch(error => {\n          this.setState({\n            errorLoading: error.message,\n            isLoading: false\n          });\n        });\n    });\n  };\n\n  componentWillMount = () => {\n    //initial populate data before loading the component //\n\n    this.loadMoreData();\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState(\n      {\n        heroes: [],\n        currentPage: 1,\n        isLoading: false,\n        errorLoading: false,\n        hasMoreHeroes: true\n      },\n      () => {\n        this.loadMoreData();\n      }\n    );\n  };\n  handleChange = e => {\n    this.setState({\n      query: e.target.value\n    });\n  };\n  render() {\n    const {\n        hasMoreHeroes,\n        errorLoading,\n        isLoading,\n        noSearchQuery,\n        searchedQuery,\n        formFinishLoading\n      } = this.state,\n      heroes = this.state.heroes.map((hero, index) => {\n        return <Herocard hero={hero} key={index} />;\n      }),\n      /* \n      canloadProgressbar = variable to indicate when progressbar will be shown \n      canLoadmainGif = to indicate when the main loading gif will be show \n      canLoadScrollAlert = indicates when the scroll message will be shown\n      canloadNomoreHeroes =indicates when the message of 'no more heroes' will be shown \n      \n      */\n      emptyHeroesList = heroes.length < 1,\n      canLoadProgressBar = isLoading && !emptyHeroesList && !noSearchQuery,\n      canLoadMainGif = emptyHeroesList && !errorLoading && !noSearchQuery,\n      canLoadScrollAlert =\n        hasMoreHeroes && !isLoading && !errorLoading && !noSearchQuery,\n      canLoadNoMoreHeroes = !hasMoreHeroes && !noSearchQuery;\n    return (\n      <div className=\"heros-container row\">\n        {formFinishLoading && (\n          <SearchForm\n            onChange={this.handleChange}\n            onSubmit={this.handleSubmit}\n          />\n        )}\n        {heroes}\n        {canLoadProgressBar && <ProgressBar />}\n        {canLoadMainGif && <LoadingGif text=\"Loading Heroes List\" />}\n        {canLoadScrollAlert && (\n          <AlertBar\n            className=\"alert-success\"\n            text=\"Scroll down to load more heroes\"\n          />\n        )}\n        {canLoadNoMoreHeroes && (\n          <AlertBar className=\"alert-info\" text=\"No More Heroes\" />\n        )}\n\n        {errorLoading && !noSearchQuery && (\n          <AlertBar\n            className=\"alert-danger\"\n            onClick={this.loadMoreData}\n            text=\" Error Loading Heroes List , click here to try again\"\n          />\n        )}\n        {noSearchQuery && (\n          <AlertBar\n            className=\"alert-danger\"\n            text={`No search Results for ${searchedQuery}`}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default HeroesContainer;\n","import React from \"react\";\n\nimport HeroesContainer from \"../components/HeroesContainer\";\n\nclass Home extends React.Component {\n  render() {\n    return (\n      <div className=\"container heroes-container\">\n        <HeroesContainer />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from \"react\";\n\nconst HeroProfile = props => {\n  const hero = props.hero;\n\n  return (\n    <div className=\"hero-main container\">\n      <img src={hero.image} />\n\n      <div>\n        <h2>{hero.name}</h2>\n      </div>\n    </div>\n  );\n};\n\nexport default HeroProfile;\n","import React from \"react\";\nimport HeroProfile from \"../components/HeroProfile\";\nimport LoadingGif from \"../components/LoadingGif\";\nimport axios from \"axios\";\n\nclass HeroItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hero: null\n    };\n  }\n  componentDidMount() {\n    const that = this;\n    const heroId = this.props.match.params.id;\n    axios\n      .get(\"/api/v1/heroes/\" + heroId)\n      .then(function(response) {\n        that.setState({\n          hero: response.data\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n  render() {\n    const hero = this.state.hero;\n    if (hero) {\n      return (\n        <div className=\"hero-profile\">\n          <HeroProfile hero={hero} />\n        </div>\n      );\n    } else {\n      return <LoadingGif text=\"Loading Profile Information\" />;\n    }\n  }\n}\n\nexport default HeroItem;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Home from \"./components/Home\";\nimport HeroItem from \"./components/HeroItem\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <div>\n        <header>\n          <Link to=\"/\">Home</Link>\n        </header>\n        <Route path=\"/:id\" component={HeroItem} />\n        <Route path=\"/\" exact component={Home} />\n      </div>\n    </BrowserRouter>\n  );\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\n});\n"],"sourceRoot":""}